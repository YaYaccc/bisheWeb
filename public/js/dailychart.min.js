!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Dailychart=e()}(this,function(){"use strict";var t=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var h="http://www.w3.org/2000/svg",e=function(){function i(t,e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.options=i.extend({},this.defaultOptions,e),!t)throw new Error("Dailychart.js: el is not defined");this.element=t,this.width=this.options.width||t.offsetWidth,this.height=this.options.height||t.offsetHeight,t.getAttribute("data-dailychart-values")&&0!==t.getAttribute("data-dailychart-values").length&&(this.values=t.getAttribute("data-dailychart-values").split(",").map(Number),this.values.length<2||(t.getAttribute("data-dailychart-length")&&0!==t.getAttribute("data-dailychart-length").length?this.length=+t.getAttribute("data-dailychart-length"):this.length=this.values.length,t.getAttribute("data-dailychart-close")&&0!==t.getAttribute("data-dailychart-close").length?this.previous=+t.getAttribute("data-dailychart-close"):this.previous=this.values[0],this.normalize().translate().draw()))}return t(i,[{key:"normalize",value:function(){var e=Math.min.apply(null,this.values.concat([this.previous])),i=Math.max.apply(null,this.values.concat([this.previous]));return this.values=this.values.map(function(t){return(t-e)/(i-e)}),this.previous=(this.previous-e)/(i-e),this}},{key:"translate",value:function(){var e=this,t=Math.max.apply(null,this.values.concat([this.previous])),i=this.height/t;return this.values=this.values.map(function(t){return e.height-t*i}),this.previous=this.height-this.previous*i,this}},{key:"id",value:function(){return Math.random().toString(36).substr(2,9)}},{key:"path",value:function(){for(var t=this.width/(this.length-1),e=[],i=0;i<this.values.length;i++)e.push(0===i?"M":"L"),e.push(i*t),e.push(this.values[i]);return e.join(" ")}},{key:"draw",value:function(){var t=this.options,e=t.lineWidth,i=t.colorPositive,r=t.colorNegative,s=t.fillPositive,n=t.fillNegative,h=this.id(),a="dailychart-"+h+"-positive",l="dailychart-"+h+"-negative",u=this.path(),o=u+" V "+this.height+" H 0 Z",d=u+" V 0 H 0 Z",p=this.svgElement(),c=this.lineElement(this.previous),v=this.pathElement(u,e,i,"",a),f=this.pathElement(o,0,"",s,a),g=this.clipElement(a),m=this.rectElement(0,0,this.width,this.previous),y=this.pathElement(u,e,r,"",l),b=this.pathElement(d,0,"",n,l),A=this.clipElement(l),w=this.rectElement(0,this.previous,this.width,this.height-this.previous);g.appendChild(m),A.appendChild(w),p.appendChild(g),p.appendChild(A),p.appendChild(c),p.appendChild(f),p.appendChild(b),p.appendChild(v),p.appendChild(y),this.element.appendChild(p)}},{key:"svgElement",value:function(){var t=document.createElementNS(h,"svg");return t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",h),t.setAttribute("width",this.width),t.setAttribute("height",this.height),t}},{key:"lineElement",value:function(t){var e=document.createElementNS(h,"line");return e.setAttribute("x1",0),e.setAttribute("y1",t),e.setAttribute("x2",this.width),e.setAttribute("y2",t),e.setAttribute("stroke",this.options.closeColor),e.setAttribute("stroke-width",this.options.closeWidth),e.style.shapeRendering="crispEdges",e}},{key:"pathElement",value:function(t,e,i,r,s){var n=document.createElementNS(h,"path");return n.setAttribute("d",t),n.setAttribute("fill",""===r?"none":r),n.setAttribute("stroke-width",e),n.setAttribute("stroke-linejoin","bevel"),n.setAttribute("stroke",""===i?"none":i),n.setAttribute("clip-path","url(#"+s+")"),n}},{key:"rectElement",value:function(t,e,i,r){var s=document.createElementNS(h,"rect");return s.setAttribute("x",t),s.setAttribute("y",e),s.setAttribute("width",i),s.setAttribute("height",r),s}},{key:"clipElement",value:function(t){var e=document.createElementNS(h,"clipPath");return e.setAttribute("id",t),e}}],[{key:"extend",value:function(t){for(var e=arguments.length,i=Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];var s=i,n=Array.isArray(s),h=0;for(s=n?s:s[Symbol.iterator]();;){var a;if(n){if(h>=s.length)break;a=s[h++]}else{if((h=s.next()).done)break;a=h.value}var l=a;for(var u in l){var o=l[u];t[u]=o}}return t}}]),i}();return e.prototype.defaultOptions={width:void 0,height:void 0,lineWidth:1,colorPositive:"#33AE45",colorNegative:"#EB5757",fillPositive:"",fillNegative:"",closeWidth:1,closeColor:"#e0e0e0"},e});